const decimalArr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43],compositeNumberArr=[1,4,8,10,14,16,20,22,25,26,28,32,34,35,38,40,44],sosabhap=[3,6,9,12,15,18,21,24,27,30,33,36,39,42,45];let lottoArr=[],lottoList=[],negativeNumber=[],negativeManualNumber=[],includeManualNumber=[];document.addEventListener("DOMContentLoaded",()=>{const e=!0;e&&readTextFile("/data/lottoList.txt"),negativeNumberExt(),negativeManualNumberExt(),includeManualNumberExt(),document.querySelector(".negative_manual").addEventListener("keyup",()=>{negativeManualNumberExt()}),document.querySelector(".include_manual").addEventListener("keyup",()=>{includeManualNumberExt()}),document.querySelector(".extraction_btn").addEventListener("click",()=>{lottoList=[],lottoExt()});const t=document.getElementById("getApiModal");t.addEventListener("show.bs.modal",()=>{document.querySelector(".drwNo").value="";const e=t.querySelectorAll(".modal-body tbody")[0];mbStr='<tr><td colspan="4" style="text-align:center;">확인 할 회차번호를 입력 후 전송버튼을 클릭하세요.</td></tr>',e.innerHTML=mbStr});const l=document.querySelector(".drwNo");l.addEventListener("keyup",e=>{13===e.keyCode&&document.querySelector(".getNumber").click();let t=l.value.trim();!isNumber(t)&&(l.value=l.value.slice(0,-1))}),document.querySelector(".getNumber").addEventListener("click",()=>{let e=document.querySelector(".drwNo").value.trim();""===e?alert("확인 할 회차번호를 입력해 주세요."):getAPILottoNumber(e)});const a=document.querySelector(".toggle_button"),n=document.querySelector(".toggle_option");a.addEventListener("click",()=>{n.getAttribute("class").indexOf("show")>-1?(n.classList.remove("show"),n.classList.add("hide"),a.classList.remove("bi-chevron-double-up"),a.classList.add("bi-chevron-double-down")):(n.classList.remove("hide"),n.classList.add("show"),a.classList.remove("bi-chevron-double-down"),a.classList.add("bi-chevron-double-up"))});const o=document.querySelectorAll(".reset");o.forEach(e=>e.addEventListener("click",()=>{document.querySelector("."+e.getAttribute("data-input-name")).value=""})),setTooltip()});const setTooltip=()=>{let e=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));e.map(function(e){return new bootstrap.Tooltip(e)})},negativeNumberExt=()=>{},negativeManualNumberExt=()=>{negativeManualNumber=[];let e=document.querySelector(".negative_manual").value.trim();if(!isCommaNumber(e)&&negativeManualRollback(),""!==e){let t=e.split(",");t.length>10?(alert("제외수는 10건까지 등록할 수 있습니다."),negativeManualRollback()):t.forEach(e=>{""!==e.trim()&&parseInt(e)<=45&&negativeManualNumber.push(parseInt(e))})}},includeManualNumberExt=()=>{includeManualNumber=[];let e=document.querySelector(".include_manual").value.trim();if(!isCommaNumber(e)&&includeManualRollback(),""!==e){let t=e.split(",");t.length>5?(alert("고정수는 5건까지 등록할 수 있습니다."),includeManualRollback()):t.forEach(e=>{""!==e.trim()&&parseInt(e)<=45&&includeManualNumber.push(parseInt(e))})}},negativeManualRollback=()=>document.querySelector(".negative_manual").value=document.querySelector(".negative_manual").value.slice(0,-1),includeManualRollback=()=>document.querySelector(".include_manual").value=document.querySelector(".include_manual").value.slice(0,-1),lottoExt=()=>{let e=parseInt(document.querySelector(".extraction_cnt").value);for(z=0;z<e;z++){let e=[];for(includeManualNumber.length>0&&(e=[...includeManualNumber]);e.length<6;){let t=Math.floor(45*Math.random())+1;e.indexOf(t)<0&&negativeNumber.indexOf(t)<0&&negativeManualNumber.indexOf(t)<0&&e.push(t)}e.sort(function(e,t){return e-t}),lottoList.push(e)}let t="";lottoList.length>0&&(t+="<ul>",lottoList.forEach(e=>{let l="";e.forEach(e=>{let t="";decimalArr.indexOf(e)>-1&&(t="dec"),compositeNumberArr.indexOf(e)>-1&&(t="com"),sosabhap.indexOf(e)>-1&&(t="sos"),l+="<span",""!=t.trim()&&(l+=' class="'+t+'"'),l+=">"+e+"</span>"}),t+="<li>"+l+"</li>"}),t+="</ul>"),t+='<div class="number-color-info">',t+="<ul>",t+='<li data-bs-html="true" data-bs-toggle="tooltip" title="Thank You!"><i class="bi bi-circle-fill" style="color:#ca520c;"></i> 소수</li>',t+='<li><i class="bi bi-circle-fill" style="color:#9d3eaa;"></i> 반복수</li>',t+='<li><i class="bi bi-circle-fill" style="color:#439cbe;"></i> 3의 배수</li>',t+="</ul>",t+="</div>",document.querySelector(".extraction_area").innerHTML=t,setTooltip()};